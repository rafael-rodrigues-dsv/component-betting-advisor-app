{
	"info": {
		"_postman_id": "betting-advisor-api-local",
		"name": "Betting Advisor API - Local",
		"description": "Collection completa da API Betting Advisor v5.0 para testes locais.\n\n**Base URL:** http://localhost:8000\n\n**Endpoints dispon√≠veis:**\n- Health Check\n- Preload (Pr√©-carregamento)\n- Matches (Jogos + Ao Vivo)\n- Odds (Por Liga + Individual)\n- Leagues (Ligas)\n- Bookmakers (Casas de Apostas)\n- Predictions (An√°lises - 3 Estrat√©gias)\n- Tickets (Bilhetes + Acompanhamento ao Vivo)\n- Static Assets\n\n**Vers√£o:** 5.0.0\n**Status:** API-Football Real (sem mocks)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "‚ù§Ô∏è Health Check",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": ["{{base_url}}"],
							"path": ["health"]
						},
						"description": "Verifica se a API est√° online e funcionando."
					},
					"response": []
				}
			]
		},
		{
			"name": "üì¶ Preload",
			"item": [
				{
					"name": "üìÖ Preload Hoje",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/preload/fetch?days=1",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "preload", "fetch"],
							"query": [
								{
									"key": "days",
									"value": "1",
									"description": "Apenas hoje"
								}
							]
						},
						"description": "Pr√©-carrega fixtures para hoje.\nCarrega APENAS fixtures, n√£o odds.\nOdds s√£o carregadas por liga ao selecionar no carrossel."
					},
					"response": []
				},
				{
					"name": "‚ö° Preload 3 Dias",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/preload/fetch?days=3",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "preload", "fetch"],
							"query": [
								{
									"key": "days",
									"value": "3"
								}
							]
						},
						"description": "Pr√©-carrega fixtures para os pr√≥ximos 3 dias.\nCache incremental: reaproveita dias j√° carregados."
					},
					"response": []
				},
				{
					"name": "üìÜ Preload 7 Dias",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/preload/fetch?days=7",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "preload", "fetch"],
							"query": [
								{
									"key": "days",
									"value": "7"
								}
							]
						},
						"description": "Pr√©-carrega fixtures para os pr√≥ximos 7 dias.\nCache incremental: reaproveita cache de 3 dias."
					},
					"response": []
				},
				{
					"name": "üìä Preload Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/preload/status",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "preload", "status"]
						},
						"description": "Retorna o status do cache de preload."
					},
					"response": []
				}
			]
		},
		{
			"name": "‚öΩ Matches",
			"item": [
				{
					"name": "üìã Get Matches (3 dias)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/matches?date_from=2026-02-27&date_to=2026-03-01",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches"],
							"query": [
								{
									"key": "date_from",
									"value": "2026-02-27",
									"description": "Data in√≠cio (YYYY-MM-DD)"
								},
								{
									"key": "date_to",
									"value": "2026-03-01",
									"description": "Data fim (YYYY-MM-DD)"
								}
							]
						},
						"description": "Retorna jogos do cache filtrados por per√≠odo.\nRequer preload pr√©vio.\nFiltra apenas partidas ativas."
					},
					"response": []
				},
				{
					"name": "üèÜ Get Matches by League",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/matches?date_from=2026-02-27&date_to=2026-03-01&league_id=71",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches"],
							"query": [
								{ "key": "date_from", "value": "2026-02-27" },
								{ "key": "date_to", "value": "2026-03-01" },
								{ "key": "league_id", "value": "71", "description": "ID da liga (71=Brasileir√£o)" }
							]
						},
						"description": "Retorna jogos de uma liga espec√≠fica no per√≠odo."
					},
					"response": []
				},
				{
					"name": "üî¥ Get Live Matches",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/matches/live",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches", "live"]
						},
						"description": "Retorna jogos ao vivo em tempo real da API-Football.\nUsado pelo frontend para a se√ß√£o 'Ao Vivo' no carrossel de ligas."
					},
					"response": []
				}
			]
		},
		{
			"name": "üìä Odds",
			"item": [
				{
					"name": "üèÜ Load Odds by League (Recomendado)",
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"league_id\": 71\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/preload/odds/league",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "preload", "odds", "league"]
						},
						"description": "Carrega odds de TODOS os jogos de uma liga nas datas do per√≠odo.\nUsa GET /odds?league={id}&date={date} (bulk da API-Football).\nMuito mais eficiente que buscar por fixture individual.\n\nDisparado automaticamente quando o usu√°rio seleciona uma liga no carrossel."
					},
					"response": []
				},
				{
					"name": "üí∞ Get Odds (Single Match)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/matches/:fixture_id/odds",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches", ":fixture_id", "odds"],
							"variable": [
								{ "key": "fixture_id", "value": "1387913", "description": "ID da partida" }
							]
						},
						"description": "Retorna odds de uma partida (do cache ou API-Football)."
					},
					"response": []
				},
				{
					"name": "üîÑ Refresh Odds + Status",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/matches/:fixture_id/odds/refresh",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches", ":fixture_id", "odds", "refresh"],
							"variable": [
								{ "key": "fixture_id", "value": "1387913" }
							]
						},
						"description": "For√ßa refresh de odds + status da partida.\nDeleta cache ‚Üí busca API ‚Üí cacheia novos dados."
					},
					"response": []
				},
				{
					"name": "üì¶ Batch Odds (Legacy)",
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fixture_ids\": [\n    \"1387913\",\n    \"1387914\",\n    \"1387915\"\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/preload/odds",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "preload", "odds"]
						},
						"description": "Busca odds de m√∫ltiplas partidas de uma vez.\nPrefer√≠vel usar 'Load Odds by League' que √© mais eficiente."
					},
					"response": []
				}
			]
		},
		{
			"name": "üèÖ Leagues",
			"item": [
				{
					"name": "üìú Get All Leagues",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/leagues",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "leagues"]
						},
						"description": "Retorna todas as ligas dispon√≠veis no per√≠odo carregado.\nUsado pelo carrossel de ligas no frontend."
					},
					"response": []
				}
			]
		},
		{
			"name": "üí∞ Bookmakers",
			"item": [
				{
					"name": "üé∞ Get All Bookmakers",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/bookmakers",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "bookmakers"]
						},
						"description": "Retorna casas de apostas suportadas (Bet365, Betano)."
					},
					"response": []
				}
			]
		},
		{
			"name": "üîÆ Predictions",
			"item": [
				{
					"name": "üõ°Ô∏è Analyze (Conservative)",
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"match_ids\": [\n    \"1387913\",\n    \"1387914\"\n  ],\n  \"strategy\": \"CONSERVATIVE\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/analyze",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "analyze"]
						},
						"description": "Analisa jogos com estrat√©gia CONSERVADORA (default).\n\nRetorna predictions, odds_by_bookmaker, pre_ticket.\n\nEstrat√©gias: CONSERVATIVE, BALANCED, AGGRESSIVE"
					},
					"response": []
				},
				{
					"name": "‚öñÔ∏è Analyze (Balanced)",
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"match_ids\": [\n    \"1387913\"\n  ],\n  \"strategy\": \"BALANCED\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/analyze",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "analyze"]
						},
						"description": "Analisa jogos com estrat√©gia BALANCEADA."
					},
					"response": []
				},
				{
					"name": "üî• Analyze (Aggressive)",
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"match_ids\": [\n    \"1387913\",\n    \"1387914\",\n    \"1387915\"\n  ],\n  \"strategy\": \"AGGRESSIVE\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/analyze",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "analyze"]
						},
						"description": "Analisa jogos com estrat√©gia AGRESSIVA (alto risco, odds maiores)."
					},
					"response": []
				}
			]
		},
		{
			"name": "üé´ Tickets",
			"item": [
				{
					"name": "‚ûï Create Ticket",
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Rodada 5 - Conservadora - Betano\",\n  \"stake\": 50.00,\n  \"bookmaker_id\": \"betano\",\n  \"bets\": [\n    {\n      \"match_id\": \"1387913\",\n      \"home_team\": \"Flamengo\",\n      \"away_team\": \"Palmeiras\",\n      \"league\": \"Brasileir√£o S√©rie A\",\n      \"market\": \"MATCH_WINNER\",\n      \"predicted_outcome\": \"HOME\",\n      \"odds\": 2.15,\n      \"confidence\": 0.55\n    },\n    {\n      \"match_id\": \"1387914\",\n      \"home_team\": \"Vasco\",\n      \"away_team\": \"Corinthians\",\n      \"league\": \"Brasileir√£o S√©rie A\",\n      \"market\": \"OVER_UNDER\",\n      \"predicted_outcome\": \"OVER\",\n      \"odds\": 1.90,\n      \"confidence\": 0.52\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/tickets",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tickets"]
						},
						"description": "Cria um novo bilhete de apostas.\n\nMarkets: MATCH_WINNER, OVER_UNDER, BTTS\nOutcomes: HOME, DRAW, AWAY, OVER, UNDER, YES, NO\n\nBilhete criado via modal no frontend."
					},
					"response": []
				},
				{
					"name": "üìã Get All Tickets",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/tickets",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tickets"]
						},
						"description": "Retorna todos os bilhetes com dados ao vivo (elapsed, goals_home, goals_away, status_short)."
					},
					"response": []
				},
				{
					"name": "üîç Get Ticket by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/tickets/:ticket_id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tickets", ":ticket_id"],
							"variable": [
								{ "key": "ticket_id", "value": "550e8400-e29b-41d4-a716-446655440000" }
							]
						},
						"description": "Retorna detalhes de um bilhete com dados ao vivo."
					},
					"response": []
				},
				{
					"name": "üóëÔ∏è Delete Ticket",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/tickets/:ticket_id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tickets", ":ticket_id"],
							"variable": [
								{ "key": "ticket_id", "value": "550e8400-e29b-41d4-a716-446655440000" }
							]
						},
						"description": "Deleta um bilhete e todas as suas apostas."
					},
					"response": []
				},
				{
					"name": "üìä Dashboard Stats",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/tickets/stats/dashboard",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tickets", "stats", "dashboard"]
						},
						"description": "Retorna estat√≠sticas do dashboard."
					},
					"response": []
				},
				{
					"name": "üîÑ Update All Results",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/tickets/update-results",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tickets", "update-results"]
						},
						"description": "Atualiza resultados de TODOS os bilhetes pendentes.\n\nBusca na API-Football: status, elapsed, goals_home, goals_away.\nSempre persiste dados parciais (ao vivo).\nSe finalizado: compara resultado com aposta ‚Üí WON/LOST."
					},
					"response": []
				},
				{
					"name": "üîÑ Update Single Ticket Result",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/tickets/:ticket_id/update-result",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tickets", ":ticket_id", "update-result"],
							"variable": [
								{ "key": "ticket_id", "value": "550e8400-e29b-41d4-a716-446655440000" }
							]
						},
						"description": "Atualiza resultado de um bilhete espec√≠fico.\nMesma l√≥gica do update-results, mas para um ticket s√≥."
					},
					"response": []
				}
			]
		},
		{
			"name": "üñºÔ∏è Static Assets",
			"item": [
				{
					"name": "üõ°Ô∏è Get Team Logo",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/static/escudos/flamengo.png",
							"host": ["{{base_url}}"],
							"path": ["static", "escudos", "flamengo.png"]
						},
						"description": "Retorna o escudo de um time."
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [""]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [""]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		}
	]
}

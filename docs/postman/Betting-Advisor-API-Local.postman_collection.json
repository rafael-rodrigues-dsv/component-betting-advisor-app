{
	"info": {
		"_postman_id": "betting-advisor-api-local",
		"name": "Betting Advisor API - Local",
		"description": "Collection completa da API Betting Advisor v4.0 para testes locais.\n\n**Base URL:** http://localhost:8000\n\n**Endpoints dispon√≠veis:**\n- Health Check\n- Preload (Pr√©-carregamento)\n- Matches (Jogos)\n- Odds (Cota√ß√µes)\n- Leagues (Ligas)\n- Bookmakers (Casas de Apostas)\n- Predictions (An√°lises)\n- Tickets (Bilhetes)\n- Static Assets\n\n**Vers√£o:** 4.0.0\n**Status:** API-Football Real (sem mocks)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "‚ù§Ô∏è Health Check",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": ["{{base_url}}"],
							"path": ["health"]
						},
						"description": "Verifica se a API est√° online e funcionando."
					},
					"response": []
				}
			]
		},
		{
			"name": "üì¶ Preload",
			"item": [
				{
					"name": "‚ö° Preload 3 Dias",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/preload/fetch?days=3",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "preload", "fetch"],
							"query": [
								{
									"key": "days",
									"value": "3",
									"description": "Per√≠odo em dias (3, 7 ou 14)"
								}
							]
						},
						"description": "Pr√©-carrega fixtures (jogos) da API-Football para os pr√≥ximos 3 dias.\n\nCarrega APENAS fixtures, n√£o odds.\nOdds s√£o carregadas via batch ou refresh individual.\n\nCache incremental: se j√° tem 3 dias e pedir 7, busca apenas dias 4-7."
					},
					"response": []
				},
				{
					"name": "üìÖ Preload 7 Dias",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/preload/fetch?days=7",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "preload", "fetch"],
							"query": [
								{
									"key": "days",
									"value": "7"
								}
							]
						},
						"description": "Pr√©-carrega fixtures para os pr√≥ximos 7 dias.\nAproveita cache de 3 dias se existir."
					},
					"response": []
				},
				{
					"name": "üìÜ Preload 14 Dias",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/preload/fetch?days=14",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "preload", "fetch"],
							"query": [
								{
									"key": "days",
									"value": "14"
								}
							]
						},
						"description": "Pr√©-carrega fixtures para os pr√≥ximos 14 dias.\nAproveita cache de 3 ou 7 dias se existir."
					},
					"response": []
				},
				{
					"name": "üìä Preload Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/preload/status",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "preload", "status"]
						},
						"description": "Retorna o status do cache de preload (√∫ltimo per√≠odo carregado, data base)."
					},
					"response": []
				}
			]
		},
		{
			"name": "‚öΩ Matches",
			"item": [
				{
					"name": "üìã Get Matches (3 dias)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/matches?date_from=2026-02-26&date_to=2026-02-28",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches"],
							"query": [
								{
									"key": "date_from",
									"value": "2026-02-26",
									"description": "Data in√≠cio (YYYY-MM-DD)"
								},
								{
									"key": "date_to",
									"value": "2026-02-28",
									"description": "Data fim (YYYY-MM-DD)"
								}
							]
						},
						"description": "Retorna jogos do cache filtrados por per√≠odo.\nRequer preload pr√©vio.\n\nFiltra automaticamente apenas partidas ativas (NS, 1H, 2H, HT, etc)."
					},
					"response": []
				},
				{
					"name": "üèÜ Get Matches by League",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/matches?date_from=2026-02-26&date_to=2026-02-28&league_id=71",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches"],
							"query": [
								{
									"key": "date_from",
									"value": "2026-02-26"
								},
								{
									"key": "date_to",
									"value": "2026-02-28"
								},
								{
									"key": "league_id",
									"value": "71",
									"description": "ID da liga (71=Brasileir√£o, 39=Premier League, etc)"
								}
							]
						},
						"description": "Retorna jogos de uma liga espec√≠fica no per√≠odo.\n\nLeague IDs:\n- 71: Brasileir√£o S√©rie A\n- 73: Copa do Brasil\n- 39: Premier League\n- 140: La Liga\n- 78: Bundesliga\n- 61: Ligue 1\n- 135: Serie A It√°lia"
					},
					"response": []
				}
			]
		},
		{
			"name": "üìä Odds",
			"item": [
				{
					"name": "üí∞ Get Odds (Single Match)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/matches/:fixture_id/odds",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches", ":fixture_id", "odds"],
							"variable": [
								{
									"key": "fixture_id",
									"value": "1387913",
									"description": "ID da partida"
								}
							]
						},
						"description": "Retorna odds de uma partida (do cache ou API-Football).\n\nFiltra apenas casas suportadas (Bet365, Betano)."
					},
					"response": []
				},
				{
					"name": "üîÑ Refresh Odds + Status",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/matches/:fixture_id/odds/refresh",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches", ":fixture_id", "odds", "refresh"],
							"variable": [
								{
									"key": "fixture_id",
									"value": "1387913",
									"description": "ID da partida"
								}
							]
						},
						"description": "For√ßa refresh de odds + status da partida.\n\nDeleta cache ‚Üí busca API-Football ‚Üí cacheia novos dados.\n\nRetorna: { odds, status, status_short }"
					},
					"response": []
				},
				{
					"name": "üì¶ Batch Odds",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fixture_ids\": [\n    \"1387913\",\n    \"1387914\",\n    \"1387915\"\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/matches/odds/batch",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches", "odds", "batch"]
						},
						"description": "Busca odds de m√∫ltiplas partidas de uma vez.\n\nUsado pelo frontend em chunks de 10 ap√≥s preload."
					},
					"response": []
				}
			]
		},
		{
			"name": "üèÖ Leagues",
			"item": [
				{
					"name": "üìú Get All Leagues",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/leagues",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "leagues"]
						},
						"description": "Retorna todas as ligas/campeonatos dispon√≠veis (7 ligas configuradas)."
					},
					"response": []
				}
			]
		},
		{
			"name": "üí∞ Bookmakers",
			"item": [
				{
					"name": "üé∞ Get All Bookmakers",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/bookmakers",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "bookmakers"]
						},
						"description": "Retorna casas de apostas suportadas (Bet365, Betano).\n\nConfigur√°vel via SUPPORTED_BOOKMAKERS no .env."
					},
					"response": []
				}
			]
		},
		{
			"name": "üîÆ Predictions",
			"item": [
				{
					"name": "üõ°Ô∏è Analyze (Conservative)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"match_ids\": [\n    \"1387913\",\n    \"1387914\"\n  ],\n  \"strategy\": \"CONSERVATIVE\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/analyze",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "analyze"]
						},
						"description": "Analisa jogos com estrat√©gia CONSERVADORA (default).\n\nRetorna:\n- predictions: previs√µes por jogo com mercados\n- odds_by_bookmaker: odds reais de cada casa (para compara√ß√£o)\n- pre_ticket: pr√©-bilhete montado automaticamente\n\nEstrat√©gias: CONSERVATIVE, BALANCED, VALUE_BET, AGGRESSIVE"
					},
					"response": []
				},
				{
					"name": "‚öñÔ∏è Analyze (Balanced)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"match_ids\": [\n    \"1387913\"\n  ],\n  \"strategy\": \"BALANCED\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/analyze",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "analyze"]
						},
						"description": "Analisa jogos com estrat√©gia BALANCEADA."
					},
					"response": []
				},
				{
					"name": "üí∞ Analyze (Value Bet)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"match_ids\": [\n    \"1387913\",\n    \"1387914\",\n    \"1387915\"\n  ],\n  \"strategy\": \"VALUE_BET\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/analyze",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "analyze"]
						},
						"description": "Analisa jogos buscando VALUE BETS (discrep√¢ncias de odds entre casas)."
					},
					"response": []
				},
				{
					"name": "üî• Analyze (Aggressive)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"match_ids\": [\n    \"1387913\"\n  ],\n  \"strategy\": \"AGGRESSIVE\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/analyze",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "analyze"]
						},
						"description": "Analisa jogos com estrat√©gia AGRESSIVA (alto risco, odds maiores)."
					},
					"response": []
				}
			]
		},
		{
			"name": "üé´ Tickets",
			"item": [
				{
					"name": "‚ûï Create Ticket",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Rodada 5 - Conservadora - Betano\",\n  \"stake\": 50.00,\n  \"bookmaker_id\": \"betano\",\n  \"bets\": [\n    {\n      \"match_id\": \"1387913\",\n      \"home_team\": \"Flamengo\",\n      \"away_team\": \"Palmeiras\",\n      \"league\": \"Brasileir√£o S√©rie A\",\n      \"market\": \"MATCH_WINNER\",\n      \"predicted_outcome\": \"HOME\",\n      \"odds\": 2.15,\n      \"confidence\": 0.55\n    },\n    {\n      \"match_id\": \"1387914\",\n      \"home_team\": \"Vasco\",\n      \"away_team\": \"Corinthians\",\n      \"league\": \"Brasileir√£o S√©rie A\",\n      \"market\": \"OVER_UNDER\",\n      \"predicted_outcome\": \"OVER_2.5\",\n      \"odds\": 1.90,\n      \"confidence\": 0.52\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/tickets",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tickets"]
						},
						"description": "Cria um novo bilhete de apostas.\n\nMarkets: MATCH_WINNER, OVER_UNDER, BTTS\nOutcomes: HOME, DRAW, AWAY, OVER_2.5, UNDER_2.5, YES, NO\n\nA casa de apostas (bookmaker_id) √© escolhida na compara√ß√£o de bilhetes."
					},
					"response": []
				},
				{
					"name": "üìã Get All Tickets",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/tickets",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tickets"]
						},
						"description": "Retorna todos os bilhetes com status das partidas (status, status_short)."
					},
					"response": []
				},
				{
					"name": "üîç Get Ticket by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/tickets/:ticket_id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tickets", ":ticket_id"],
							"variable": [
								{
									"key": "ticket_id",
									"value": "550e8400-e29b-41d4-a716-446655440000",
									"description": "ID do ticket (UUID)"
								}
							]
						},
						"description": "Retorna detalhes de um bilhete espec√≠fico."
					},
					"response": []
				},
				{
					"name": "üóëÔ∏è Delete Ticket",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/tickets/:ticket_id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tickets", ":ticket_id"],
							"variable": [
								{
									"key": "ticket_id",
									"value": "550e8400-e29b-41d4-a716-446655440000",
									"description": "ID do ticket"
								}
							]
						},
						"description": "Deleta um bilhete e todas as suas apostas."
					},
					"response": []
				},
				{
					"name": "üìä Dashboard Stats",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/tickets/stats/dashboard",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tickets", "stats", "dashboard"]
						},
						"description": "Retorna estat√≠sticas do dashboard (total, ganhos, perdas, pendentes, taxa acerto, etc)."
					},
					"response": []
				},
				{
					"name": "üîÑ Update Results",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/tickets/update-results",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tickets", "update-results"]
						},
						"description": "Atualiza resultados reais de todas as apostas pendentes.\n\nBusca resultado na API-Football, compara com a aposta, atualiza status/status_short."
					},
					"response": []
				}
			]
		},
		{
			"name": "üñºÔ∏è Static Assets",
			"item": [
				{
					"name": "üõ°Ô∏è Get Team Logo",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/static/escudos/flamengo.png",
							"host": ["{{base_url}}"],
							"path": ["static", "escudos", "flamengo.png"]
						},
						"description": "Retorna o escudo de um time.\n\nEscudos dispon√≠veis: flamengo, palmeiras, corinthians, santos, sao-paulo, vasco, manchester-city, liverpool, arsenal, chelsea, etc."
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [""]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [""]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		}
	]
}
